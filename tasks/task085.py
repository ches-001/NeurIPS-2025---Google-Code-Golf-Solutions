p=lambda d:[((t:=0)or[(t:=t^v)&v for v in b],b)[a!=c]for a,b,c in zip([0]+d,d,d[1:]+[0])]