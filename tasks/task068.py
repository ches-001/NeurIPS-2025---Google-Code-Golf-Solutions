def p(d,R=range(10)):A=sum(d,[]);m=min(A,key=A.count);return[[[2,m][d[i][j]==m]*any(m in r[j-(j>0):j+2]for r in d[i-(i>0):i+2])for j in R]for i in R]