def p(d):B=max(H:=len(d),W:=len(d[0]));d=[d,[*zip(*d)]][H<W];D=[d[a*3:a*3+3]for a in range(B//3)];F=lambda d:[[*map(bool,r)]for r in d];return[s:=[a for a in D if F(a)not in[F(b)for b in D if b!=a]][0],[*zip(*s)]][H<W]